@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

html
	font-size: 62.5%

	// блокировка скролла
	&.css-scroll-fixed:not(.css-scroll-fixed)
		+scroll-blocked()

	//&.shutter-only-mob.css-scroll-fixed
		+media('<tab-lg')
			+scroll-blocked()

body
	position: relative
	+font-normal
	+font($font-size, $line-height)
	color: $text-color
	height: 100%
	min-width: 320px
	background: $bg-color url(../../img/empty.png) no-repeat left top fixed

	+media('<mob-lg')
		+font($font-size--mob, $line-height--mob)

	// выделение текста
	*::selection
		background-color: $base-color-alt
		color: $base-color

	a::selection
		color: $link-color

/* === LAYOUT ===
.max-wrap
	max-width: $page-layout-width

.layout
	+padding-horizontal(nth($page-layout-space, 2))
	+push-auto

.layout-space
	+padding-horizontal(nth($page-layout-space, 2))

// выравнивание текстовых элементов на странице статьи (контент обернут в .layout-article)
// и их максимальная ширина
.layout-article
	//padding: $text-layout-space

	//+media('<tab-lg')
		padding: $text-layout-space--md

	//+media('<tab-sm')
		padding: $text-layout-space--sm

	& > p, & > ul, & > ol, & > h1, & > h2, & > h3, & > h4, & > h5, & > h6, & > hr, & > blockquote, & > .layout-text, .imgc figcaption
		max-width: $text-layout-width
		+padding-horizontal(0)
		+push-auto

	.layout-flood
		max-width: $flood-layout-width
		+padding-horizontal(0)
		+push-auto

	// элеметы без отступов по бокам
	// минусовые маржины по горизонтале имеют значение только внутри .layout-article
	.layout-full-width, .layout-wide

		+margin-horizontal(-#{nth($text-layout-space, 2)})

		+media('<tab-lg')
			+margin-horizontal(-#{nth($text-layout-space--md, 2)})

		+media('<tab-sm')
			+margin-horizontal(-#{nth($text-layout-space--sm, 2)})

// максимальная ширина текстовых элементов на внутренней (текстовой) странице
.max-wrap-text
	max-width: #{$text-layout-width + (nth($text-layout-space, 2))*2}

	+media('<tab-lg')
		max-width: #{$text-layout-width + (nth($text-layout-space--md, 2))*2}

	+media('<tab-sm')
		max-width: #{$text-layout-width + (nth($text-layout-space--sm, 2))*2}

// выравнивание текстовых элементов на внутренней (текстовой) странице
// и их максимальная ширина
.layout-text
	max-width: #{$text-layout-width + (nth($text-layout-space, 2))*2}
	+padding-horizontal(nth($text-layout-space, 2))
	+push-auto

	+media('<tab-lg')
		max-width: #{$text-layout-width + (nth($text-layout-space--md, 2))*2}
		+padding-horizontal(nth($text-layout-space--md, 2))

	+media('<tab-sm')
		max-width: #{$text-layout-width + (nth($text-layout-space--sm, 2))*2}
		+padding-horizontal(nth($text-layout-space--sm, 2))

// максимальная ширина альтернативных элементов на внутренней (текстовой) странице
.max-wrap-flood
	max-width: #{$flood-layout-width + (nth($text-layout-space, 2))*2}

	+media('<tab-lg')
		max-width: #{$flood-layout-width + (nth($text-layout-space--md, 2))*2}

	+media('<tab-sm')
		max-width: #{$flood-layout-width + (nth($text-layout-space--mob, 2))*2}

// выравнивание альтернативных элементов на внутренней (текстовой) странице
// и их максимальная ширина
.layout-flood
	max-width: #{$flood-layout-width + (nth($text-layout-space, 2))*2}
	+padding-horizontal((nth($text-layout-space, 2)))
	+push-auto

	+media('<tab-lg')
		max-width: #{$flood-layout-width + (nth($text-layout-space--md, 2))*2}
		+padding-horizontal((nth($text-layout-space--md, 2)))

	+media('<tab-sm')
		max-width: #{$flood-layout-width + (nth($text-layout-space--sm, 2))*2}
		+padding-horizontal((nth($text-layout-space--sm, 2)))

	p, ul, ol, h1, h2, h3, h4, h5, h6, hr
		max-width: none

// элеметы с отступами по бокам
.layout-wide
	+padding-horizontal((nth($text-layout-space, 2)))

	+media('<tab-lg')
		+padding-horizontal((nth($text-layout-space--md, 2)))

	+media('<tab-sm')
		+padding-horizontal((nth($text-layout-space--sm, 2)))

	p, ul, ol, h1, h2, h3, h4, h5, h6, hr
		max-width: none

// элеметы без отступов по бокам
.layout-full-width

	p, ul, ol, h1, h2, h3, h4, h5, h6, hr
		max-width: none

// layout страницы
.wrapper
	position: relative
	display: flex
	flex-direction: column
	justify-content: space-between
	align-items: stretch
	margin: 0 auto
	min-height: 100%
	max-width: 100%
	width: $page-layout-width
	background-color: $bg-color-alt
	border: solid #cdcdcd
	border-width: 0 1px

/* === LAYOUT end ===

/* === CONTENT ===
.main
	flex-shrink: 1
	flex-grow: 1
	clear: both
	z-index: 4
	padding-top: $header-height

.content
	padding-bottom: 38px
	padding-top: 17px

.sheet
	background-color: #fff
	border-radius: 10px
	box-shadow: 0 3px 3px rgba(black, 0.1)
	max-width: 1010px
	margin: 0 auto
	padding: 38px nth($grid-space, 2)

/* === CONTENT end ===

/* === HEADER ===
.header
	position: fixed
	left: 0
	top: 0
	width: 100%
	height: $header-height
	min-width: $page-layout-min
	z-index: $header-z

.header__holder
	position: relative
	height: 100%
	background-color: $header-bg
	box-shadow: $header-shadow
	border: solid #cdcdcd
	border-width: 0 1px
	+clear

/* logo
.logo
	display: block
	position: relative
	width: nth($logo-size, 1)

	&::before
		content: ""
		display: block
		+ratio(nth($logo-size, 1), nth($logo-size, 2))
		background-repeat: no-repeat
		background-position: left
		background-color: $header-bg
		background-image: url(../../img/logo.png)
		background-size: contain

	a, & > span
		position: absolute
		display: block
		left: 0
		top: 0
		+size(100%)
		z-index: 5

		& > em
			+hide-text

/* logo end
/* === HEADER end ===

/* === NAVIGATION ===
.nav
	position: fixed
	width: 100%
	min-width: $page-layout-min
	z-index: $header-z
	left: 0
	top: 0

.nav__layout
	position: relative
	height: 100%
	margin: 0 auto

	.nav__list
		position: absolute
		top: 0
		left: #{nth($logo-size, 1) + nth($page-layout-space, 2) + 50}

.nav__list
	height: $header-height
	+clear

	li
		position: relative

		&.has-drop
			padding-right: 2rem

			.nav__angle
				position: absolute
				right: 0
				top: 50%
				transform: translate(0, -50%)
				line-height: 0
				pointer-events: none

	a
		display: block

	& > li
		float: left
		margin-right: 2rem

		&.has-drop > .nav__tab .nav__angle i
			display: inline-block
			vertical-align: top
			+triangle(bottom, tomato, 5px, 2)

.nav__drop
	position: absolute
	left: 0
	top: 100%
	background-color: white
	border: 1px solid $border-color
	padding: 2rem
	width: 320px
	opacity: 0
	visibility: hidden
	z-index: 10

	li:hover > &
		opacity: 1
		visibility: visible

	li
		margin-bottom: 1rem
		font-size: 1.4rem
		line-height: 1.5

		&.has-drop > .nav__tab .nav__angle i
			display: inline-block
			vertical-align: top
			+triangle(right, tomato, 5px, 2)


	.nav__drop
		top: 0
		left: 100%

/* === NAVIGATION end ===

/* === FOOTER ===
.footer
	position: relative
	z-index: $footer-z
	background-color: white
	overflow: hidden
	+font(1.4rem, round-float(18/14, 2))
	color: #999

	.social-networks__item a
		color: white

.footer-row
	position: relative
	display: flex
	align-items: center
	justify-content: space-between
	border-top: 1px solid #ddd
	+padding-horizontal(nth($page-layout-space, 2))
	+padding-vertical(10px)
	min-height: 60px

.footer-col
	width: 33.33%
	+padding-horizontal(round(nth($grid-space, 2)/2))
	// для браузеров не поддерживающих display: flex
	display: inline-block
	display: flex
	justify-content: center
	text-align: center

	+media('<mob-lg')
		min-width: 100%
		margin-bottom: #{round(nth($grid-space, 1)/2)}

	.footer-row:first-child &
		width: auto

	&:first-child
		+media('>=mob-lg')
			justify-content: flex-start
			padding-left: 0
			text-align: left

	&:last-child
		+media('>=mob-lg')
			justify-content: flex-end
			text-align: right
			padding-right: 0

	a
		color: inherit
		text-decoration: none

		.no-touchevents &:hover
			text-decoration: underline

/* footer navigation
.footer-nav
	ul
		+font(1.8rem, round-float(30/18, 2))
		+clear
		margin-left: -45px
		margin-bottom: -10px

		li
			float: left
			margin: 0 0 10px 45px

		a
			text-decoration: none
			color: $text-color

			.no-touchevents &:hover
				color: $link-color
				text-decoration: none

/* footer navigation end

/* subscription form
.subs-form
	$subs-form-size: 40px 288px // h w
	$subs-form-space: 8px 10px // v h
	$subs-form-border: 2px // border width
	$subs-form-border-radius: 6px

	text-align: left

	.input-wrap
		display: flex
		margin: 0

	.label-holder
		margin: 0 17px 0 0
		color: #999

	.label-holder, label
		+font-bold
		+font(14px, 40px)
		text-transform: uppercase

	.form-fields
		position: relative
		width: nth($subs-form-size, 2)

	.input-holder
		position: relative
		height: nth($subs-form-size, 1)
		padding-right: 78px
		$prop: opacity
		will-change: $prop
		transition:
			property: $prop
			duration: 0.25s

		input
			height: nth($subs-form-size, 1)
			font-size: 14px
			line-height: nth($subs-form-size, 1) - nth($subs-form-space, 1) * 2 - $subs-form-border * 2
			padding: $subs-form-space
			border-radius: $subs-form-border-radius 0 0 $subs-form-border-radius

			&:-webkit-autofill
				-webkit-box-shadow: 0 0 0 30px $form-bg-color inset

			&:-webkit-autofill
				-webkit-text-fill-color: $text-color

	&.success-form .input-holder
		opacity: 0
		visibility: hidden
		$scale: 0.76
		transform: scale($scale)
		transform: scale3d($scale, 1)
		pointer-events: none

	input[type='submit'], button
		+size(80px, nth($subs-form-size, 1))
		min-width: 0
		font-size: 14px
		line-height: nth($subs-form-size, 1) - nth($subs-form-space, 1) * 2 - $subs-form-border * 2
		padding: 0
		position: absolute
		top: 0
		right: 0
		cursor: pointer
		box-shadow: none
		border-radius: 0 $subs-form-border-radius $subs-form-border-radius 0

	.subs-success
		position: absolute
		+position(0)
		+size(100%)
		opacity: 0
		pointer-events: none
		background-color: $base-color-alt
		transform: scale(0.76, 0.76) translateZ(0)
		border-radius: $subs-form-border-radius
		//text-indent: -9999px
		//overflow: hidden
		text-align: center
		color: $text-color
		font-size: 16px
		line-height: nth($subs-form-size, 1)

		transition:
			property: opacity, visibility, transform
			duration: 0.25s

		span
			position: relative
			display: inline-block
			vertical-align: top
			//position: absolute
			//+position(50%)
			//+size(24px, 16px)
			//margin: -8px 0 0 -12px

			&::before, &::after
				+pseudo()
				+size(0, 2px)
				left: 0
				top: 50%
				background-color: currentColor
				$prop: width
				will-change: $prop
				transition:
					property: $prop
					duration: 0.12s
					timing-function: linear

			&::before
				margin: -3px 0 0 -29px
				transform: rotate(45deg) translateZ(0)
				transform-origin: 0 8px
				transition-delay: 0.12s

			&::after
				transform: rotate(-50deg) translateZ(0)
				transform-origin: 0 16px
				margin: -1px 0 0 -8px

	&.success-form .subs-success
		opacity: 1
		visibility: visible
		transform: scale(1, 1) translateZ(0)

		span
			&::before
				width: 8px
				transition:
					delay: 0s
					timing-function: cubic-bezier(0.6, -0.28, 0.74, 0.05)

			&::after
				width: 16px
				transition-delay: 0.12s

	.subs-error
		position: absolute
		top: 100%
		left: 0
		+size(100%, 14px)
		+font(10px, 14px)
		color: $form-error-color
		+truncate(100%)
		opacity: 0
		z-index: -1
		user-select: none
		pointer-events: none

		transition:
			property: opacity
			duration: 0.1s

	&.error-form .subs-error
		opacity: 1

/* subscription form end

/* developer
.developer
	display: inline-block
	line-height: 1

	a
		display: inline-block
		vertical-align: top
		text-decoration: none

.developer__label
	+display-inline-block-middle
	margin: 0 10px

	+media('<mob-lg')
		display: block

.developer__logo
	+display-inline-block-middle
	position: relative
	+size(133px, 20px)
	text-align: left
	text-indent: -9999px

	&::after
		+pseudo()
		+position(0, 0)
		+size(100%)
		background: #ccc url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAARCAYAAAAfdMg6AAAABHNCSVQICAgIfAhkiAAAAzBJREFUaIHtmL1KHFEUx3/HF1CxsAmsQkhhJZjOTkOaPIBgyg2ksQvEB0i11mkCWq6SB0gja7p0hrGyCIKzDxCy+wQ3xT2zHs/cGWdWSEiYPyzM3HPP98edu9ChQ4cOHTr8Hwgh9EMI+d+2449DHQ8hhEmCNghl9JU2SdBCCCGroGcVeguMDC23uoy8oT5nCb25s3loeLMQQjD03Kz3ve9Gv/dpUMjxMaqJV8qvGRIxt3HLzbqPl/exNh9WwUh/kxDCIKFgQA1SQfAJ0veZgSnZjp7rb1Qlz9ieu7WB7s0db3B7CvhkZ15mna8hkXBDK/wcGb+sT5nbPwnlAsmcrL7VFUxTVNkIsGCenwLfgVtgy6zvAIjIYcr5OTAGVvX5ALhysk+BV+b9Bng+h54nRF8A0CL5os/9KiaDddX9aIjICXBFjHEKH9WuQVHMIvLC0D8Amym7TeyeNbFlQRX1gZ4yn2MCLCKvdU9p1LdFoYdYWADLwLXb9hVYdGuXvqtb4EZ5Nwpf1JYBsCciQkzGO+fjJbD7CL0p/HqA/oPYDLd2UQtmSiKppkAaNWTR4TtEpwvGRTtmNSj2bKgd7wns63g5Bo6McUsN+c+A7ZY6Le8GsbggBg4RORSRNS3CZRE5EZGZPdphR4XtVeO9CVTHJrGZUjgAxprYlYZijzWm+5qfRigSvs39Thtzf6wjImsq+AJ437LyT5V36uUmUKpiDQQtC23V8K4D31I6NNFrKQFaFKK299pOuaI7KBc6xOlR0JerbDDwU++N/lrFZcGM2X1jQI+Kc1Mrf0zsmrb4BOya99uEnC2V7/EZeDmHTkRkyY7zOXFEnHx15//U6bXwI/fC0Gyyr4kFOkORUC9Di/kC2GvqxAJxnI+tZcTKqXOuR/nsfRBq8NR8gZ4TP0YGMBt9u8TkpnjX/XoNVoCfbW2swRYw1YlwCHfnp2KPeO4/ClqYi/YrHXhLTGwKZ8Tp06zL/RXBrE/C3VXNozTOq64BoXwtG7prxdDJtlc0f30pbGlyD89q/HrwOErI9dc2fx/ODC0Ziyq/EvS6/ybuXcuMr96+Whs6dOjQoUOHDv8WfgPcGxKvpR/2uQAAAABJRU5ErkJggg==') no-repeat center center
		background-size: auto 17px
		transition:
			property: background-color
			duration: $animation-speed

// hover
.no-touchevents .developer a:hover
	text-decoration: none

	.developer__logo
		&::after
			background-color: #00ef85

/* developer end
/* === FOOTER end ===